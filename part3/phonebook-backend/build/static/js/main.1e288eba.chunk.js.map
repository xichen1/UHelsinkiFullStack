{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Name.js","service/phoneservice.js","components/Persons.js","components/Info.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonFrom","add","name","namechange","number","numberchange","onSubmit","type","Name","toggleDelete","onClick","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Persons","setpersons","persons","filter","person","toLowerCase","includes","map","key","find","window","confirm","phoneservice","initdata","toggledelete","Info","message","success","suc","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","err","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","info","setInfo","useEffect","event","target","PersonForm","pass","nameObject","preventDefault","length","oldperson","catch","error","concat","console","log","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e288eba.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n    return(\r\n        <div>\r\n            filter shown with\r\n            <input value={newFilter} \r\n            onChange={handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonFrom = ({add, name, namechange, number, numberchange}) => {\r\n    return (\r\n        <form onSubmit={add}>\r\n        <div>name: <input value={name} onChange={namechange}/></div>\r\n        <div>number: <input value={number} onChange={numberchange} /></div>\r\n\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonFrom","import React from 'react'\r\n\r\nconst Name = ({ name, number, toggleDelete }) => {\r\n    return (\r\n        <li>\r\n            {name} {number}\r\n            <button onClick={toggleDelete}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Name","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\nconst getall = () => {\r\n    const request = axios.get(baseUrl)\r\n    return (request.then(response => response.data))\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletename = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst replacename = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getall, create, deletename, replacename }\r\n","import React from 'react'\r\nimport Name from './Name'\r\n\r\nimport phoneservice from '../service/phoneservice'\r\n\r\n\r\nconst Persons = ({ setpersons, persons, newFilter }) => {\r\n    const toggledelete = (id) => {\r\n        const person = persons.find(person => person.id === id)\r\n        if (window.confirm(`Delete ${person.name}?`)) {\r\n            phoneservice\r\n                .deletename(id)\r\n                .then(initdata => {\r\n                    setpersons(persons.filter(person => person.id !== id))\r\n                    \r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ul>\r\n            {persons.filter(person =>\r\n                person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n                .map((person) =>\r\n                    <Name key={person.name}\r\n                        name={person.name}\r\n                        number={person.number}\r\n                        toggleDelete={() => toggledelete(person.id)}\r\n                    />)}\r\n        </ul>\r\n\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Info = ({ message, success }) => {\r\n  const suc = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n  }\r\n\r\n  const err = {...suc, color:'red'}\r\n  if (message === null) {\r\n    return null\r\n  } else if (message !== null && success) {\r\n    return (\r\n      <div style={suc}>\r\n        {message}\r\n      </div>\r\n    )\r\n  } else if (message !== null && ! success) {\r\n    return (\r\n      <div style={err}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Info","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport phoneservice from './service/phoneservice'\r\nimport Info from './components/Info'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [info, setInfo] = useState({message:null, success:true})\r\n\r\n\r\n  useEffect(() => {\r\n    phoneservice\r\n      .getall()\r\n      .then(initdata => {\r\n        setPersons(initdata)\r\n      })\r\n  }, [])\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const addName = (event) => {\r\n    let pass = false\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    event.preventDefault()\r\n    if (!persons.filter(person => person.name === newName).length) {\r\n      phoneservice\r\n        .create(nameObject)\r\n        .then(initdata => {\r\n          setPersons(persons.concat(initdata))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          setInfo({message: error.response.data.error, success:false})\r\n          console.log(error.response.data.error)\r\n        })\r\n      pass = true\r\n    } else {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const oldperson = persons.find(person => person.name === newName)\r\n        phoneservice\r\n          .replacename(oldperson.id, nameObject)\r\n          .then(initdata => {\r\n            setPersons(persons\r\n              .map(person =>\r\n                person.name === newName\r\n                  ? nameObject : person))\r\n          })\r\n          .catch(error => {\r\n            setInfo({message: 'error', success:false})\r\n          })\r\n          pass = true\r\n      }\r\n    }\r\n    if (pass) {\r\n      setInfo({message: 'success', success:true})\r\n      setTimeout(() => setInfo({message:null, success: true}), 5000)\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Info message={info.message} success={info.success} />\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n\r\n      <h3>add a new</h3>\r\n      <PersonForm add={addName} name={newName} namechange={handleNameChange}\r\n        number={newNumber} numberchange={handleNumberChange}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <Persons\r\n        setpersons={setPersons}\r\n        persons={persons}\r\n        newFilter={newFilter}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}